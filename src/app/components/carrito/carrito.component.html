<div class="caja-nav">    
	<button class="regresar" [routerLink]="['/comercio', refId]">
		<i class="fas fa-angle-left"></i>
	</button>
	<!-- <button class="menu" *ngIf="this.ap.exist" (click)="this.ap._toggleOpened()">
	<i class="fas fa-bars"></i>
	</button> -->
	<span class="titulo">Tu pedido en: {{ comercio.nombre }}</span>
</div>



<div class="cajaCarrito animated fadeIn fast" *ngIf="!visible">

	<div class="carrito-body" *ngIf="_cs.carrito.length > 0">
		<p class="txtProductos">Mi pedido</p>
		
		<div class="accordion" id="acordion">
			<div class="card" *ngFor="let producto of this._cs.carrito">
				<div class="card-header row" id="heading1" data-toggle="collapse" [attr.data-target]="'#a' + producto.id" aria-expanded="false" aria-controls="collapse1">
					<div class="col-1 cant-prod">
						<p>{{ producto.cant }}</p>
					</div>
					<div class="col-auto nombre-prod">
						<p>{{ producto.nombre }}</p>
					</div>
					<div class="col prec-prod">
						<p>$ {{ producto.preTot }}</p>
					</div>
				</div>
				<div id="a{{producto.id}}" class="collapse" aria-labelledby="heading1" data-parent="#acordion">
					<div class="card-body">
						<div class=" animated fadeIn">
							<div class="producto row align-items-center row">  
								<div class="caja1 col-auto">
									<div class="foto">
										<img src="{{ producto.img }}" width="70" height="50">
									</div>
								</div>
								<div class="caja2 col">
									<p class="ingredientes">{{ producto.ing }}</p>      
									<p class="ingredientes">Nota: {{ producto.nota }}</p>      
									<div class="precio-cant row">
										<div class="col-3 precio">
											<span>${{ producto.pre }}</span>
										</div>
										<div class="col-7 cantidad">
											<button class="down" (click)="restarCantidad( producto )">
												<i class="fa fa-minus"></i>
											</button> 
											
											<button class="up" (click)="sumarCantidad( producto )">
												<i class="fa fa-plus"></i>
											</button>
										</div>
										<div class="col-2">
											<a class="eliminar" (click)="eliminarProducto( producto.id )">
												<i class="fa fa-trash-alt"></i>
											</a> 
										</div>
									</div>
								</div>   
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<br>
		
		<p class="txtProductos">Forma de Entrega</p>
		<div class="form-entrega">
			<div class="card-header row d-flex align-items-center">
				<div class="col-2 cant-prod">
					<i class="fas fa-shipping-fast"></i>
				</div>
				<div class="col-auto input-field select"> 
					<select class="custom-select" (click)="sumarTotal(); mostrarOcultarDireccion()" id="cambiarentrega" name="cambiarentrega" required>
						<option value="0" disabled selected>Forma de entrega</option>
						<option value="1" *ngIf="comercio.delivery == true" (click)="sumarTotal(); mostrarOcultarDireccion()">Delivery</option>
						<option value="2" (click)="sumarTotal(); mostrarOcultarDireccion()">Retiro por el local</option>
					</select>
				</div>
				<div class="col prec-prod">
					<p class="valordelivery" *ngIf="comercio.delivery == true">$ {{ comercio.deliveryPrecio }}</p>
				</div>
			</div>
		</div>
		<p class="txtProductos direcc">Dirección</p>
		<div class="form-entrega animated fadeIn" id="direcc" >
			<div class="card-header row">
				<div class="col-2 cant-prod">
					<i class="fas fa-map-marker-alt"></i>
				</div>
				<div class="col-8 input-field select">
					<select class="custom-select"  required>
						<option value="" disabled selected>Selecciona la dirección</option>
						<option *ngFor="let domicilio of domicilios" [value]="0">{{domicilio.calle}}, {{domicilio.numero}}</option>
					</select>
				</div>
				<div class="col-2 center" (click)="nuevaDireccion()" *ngIf="!max">
					<i class="fa fa-plus"></i>
				</div>
				<div class="col-2 center" *ngIf="max" [routerLink]="['/direcciones']">
					<i class="fa fa-angle-right"></i>
				</div>
			</div>
		</div>

		<div class="row total m-0 fixed-bottom align-items-center" *ngIf="_cs.carrito.length > 0">
			<div class="col-4 total-titulo">
				<p>Total</p>
			</div>
			<div class="col-8 total-numero">
				<p>{{ precioTotal | currency }}</p>
			</div>
			<div class="row confirmar m-0 align-items-center">
				<div class="col-12">
					<span><i class="fas fa-concierge-bell"></i> Enviar pedido</span>
				</div>
			</div>
		</div>		
	</div>



	<div class="carrito-vacio animated fadeIn fast" *ngIf="this._cs.carrito.length == 0">
		<i class="fa fa-shopping-basket"></i>
		<p class="uno">Tu carrito está vacío</p>
		<p>Parece que aún no elegiste</p>
		<p>lo que vas a pedir.</p>
		<button [routerLink]="['/comercio', refId]">Explorar</button>
	</div>



</div>

