<!-- <div class="cajaCarrito animated fadeIn fast" *ngIf="_fs.usuario.uid"> -->
<div class="cajaCarrito animated fadeIn fast">
	<div class="row titulo m-0 d-flex align-items-center">
		
		<div class="col-9">
			<!-- <p class="">Mi Carrito</p> -->
			<p class="nombre">{{ comercio.nombre }}</p>
		</div>
		<div class="col-3" style="text-align:right;">
			<!-- <i class="fa fa-check"></i> -->
			<a [routerLink]="['/comercio', refId]"><i class="fa fa-times"></i></a>
		</div>
	</div>
	
	<div class="carrito-header">
		<!-- <img src="https://es.seaicons.com/wp-content/uploads/2015/11/cart-icon.png" alt=""> -->
		<!-- <p class="nombre">{{ comercio.nombre }}</p> -->
		<!-- <p class="estado">{{ comercio.estado }}</p> -->
	</div>
	
	<!-- <div class="carrito-body" *ngIf="comercio.estado === 'Abierto'"> -->
	<div class="carrito-body" *ngIf="_cs.carrito.length > 0">
		<p class="txtProductos">Mi pedido</p>
		
		<div class="accordion" id="acordion">
			<div class="card" *ngFor="let producto of this._cs.carrito">
				<div class="card-header row" id="heading1" data-toggle="collapse" [attr.data-target]="'#a' + producto.id" aria-expanded="false" aria-controls="collapse1">
					<div class="col-1 cant-prod">
						<p>{{ producto.cant }}</p>
					</div>
					<div class="col-auto nombre-prod">
						<p>{{ producto.nombre }}</p>
					</div>
					<div class="col prec-prod">
						<p>$ {{ producto.preTot }}</p>
					</div>
				</div>
				<div id="a{{producto.id}}" class="collapse" aria-labelledby="heading1" data-parent="#acordion">
					<div class="card-body">
						<div class=" animated fadeIn">
							<div class="producto row align-items-center row">  
								<div class="caja1 col-auto">
									<div class="foto">
										<img src="{{ producto.img }}" width="70" height="50">
									</div>
								</div>
								<div class="caja2 col">
									<p class="ingredientes">{{ producto.ing }}</p>      
									<p class="ingredientes">Nota: {{ producto.nota }}</p>      
									<div class="precio-cant row">
										<div class="col-3 precio">
											<span>${{ producto.pre }}</span>
										</div>
										<div class="col-7 cantidad">
											<button class="down" (click)="restarCantidad( producto )">
												<i class="fa fa-minus"></i>
											</button> 
											<!-- <input type="text" class="test" value="{{ producto.cant }}" disabled/> -->
											<!-- <input type="text" value="{{ producto.cant }}" disabled/> -->
											<button class="up" (click)="sumarCantidad( producto )">
												<i class="fa fa-plus"></i>
											</button>
										</div>
										<div class="col-2">
											<a class="eliminar" (click)="quitarProducto( producto.id )">
												<i class="fa fa-trash-alt"></i>
											</a> 
										</div>
									</div>
								</div>   
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<br>
		
		<p class="txtProductos">Forma de Entrega</p>
		<div class="form-entrega">
			<div class="card-header row d-flex align-items-center">
				<div class="col-2 cant-prod">
					<i class="fas fa-shipping-fast"></i>
				</div>
				<div class="col-auto input-field select"> 
					<select class="custom-select" (click)="sumarTotal(); mostrarOcultarDireccion()" id="cambiarentrega" name="cambiarentrega" required>
						<option value="0" disabled selected>Forma de entrega</option>
						<option value="1" *ngIf="comercio.delivery == true" (click)="sumarTotal(); mostrarOcultarDireccion()">Delivery</option>
						<option value="2" (click)="sumarTotal(); mostrarOcultarDireccion()">Retiro por el local</option>
					</select>
				</div>
				<div class="col prec-prod">
					<p class="valordelivery" *ngIf="comercio.delivery == true">$ {{ comercio.deliveryPrecio }}</p>
					<!-- <input type="text" class="valordelivery" value="{{ comercio.deliveryPrecio }}" disabled> -->
				</div>
			</div>
		</div>
		<p class="txtProductos direcc">Dirección</p>
		<div class="form-entrega animated fadeIn" id="direcc" >
			<div class="card-header row">
				<div class="col-2 cant-prod">
					<i class="fas fa-map-marker-alt"></i>
				</div>
				<div class="col-8 input-field select">
					<select class="custom-select" required>
						<option value="" disabled selected>Selecciona la dirección</option>
						<option value="1">Victoria Romero, 221</option>
						<option value="2">Av. Luis Vernet, 1230</option>
						<option value="3">Santa Rosa, S/N</option>
					</select>
				</div>
				<div class="col-2 center" data-toggle="modal" data-target="#modalNuevadireccion">
					<i class="fa fa-plus"></i>
				</div>
			</div>
		</div>

		<div class="row total m-0 fixed-bottom align-items-center" *ngIf="_cs.carrito.length > 0">
			<div class="col-4 total-titulo">
				<p>Total</p>
			</div>
			<div class="col-8 total-numero">
				<p>{{ precioTotal | currency }}</p>
			</div>
			<div class="row confirmar m-0 align-items-center">
				<div class="col-12">
					<span><i class="fas fa-concierge-bell"></i> Enviar pedido</span>
				</div>
			</div>
		</div>		
	</div>



	<div class="carrito-vacio animated fadeIn fast" *ngIf="this._cs.carrito.length == 0">
		<i class="fa fa-shopping-basket"></i>
		<p class="uno">Tu carrito está vacío</p>
		<p>Parece que aún no elegiste</p>
		<p>lo que vas a pedir.</p>
		<button [routerLink]="['/comercio', refId]">Explorar</button>
	</div>



</div>


<!-- Modal Bootstrap Nueva Direccion -->
<div class="modal fade modalNuevadireccion" id="modalNuevadireccion" tabindex="-1" role="dialog" aria-labelledby="modalNuevadireccionTitle" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<div class="row d-flex align-items-center">
					<div class="col-6 tituloDireccion">
						<p>Nueva dirección</p>
					</div>
					<div class="col-6 x" data-dismiss="modal">
						<p><i class="fa fa-times"></i></p>
					</div>
				</div>
			</div>
			<div class="modal-body">
				<div class="card-body was-validated">
					<div class="row">
						<div class="col-6">
							<div class="form-group">
								<label for="provincia">Provincia *</label>
								<select class="custom-select" id="provincia" required disabled>
									<option value="0" disabled>Provincia...</option>
									<option value="1" selected>La Rioja</option>
								</select>
								<div class="invalid-feedback">
									Por favor, selecciona tu provincia.
								</div>
							</div>
						</div>
						<div class="col-6">
							<div class="form-group">
								<label for="ciudad">Ciudad *</label>
								<select class="custom-select" id="ciudad" required disabled>
									<option value="0" disabled>Ciudad...</option>
									<option value="1" selected>Chamical</option>
								</select>
								<div class="invalid-feedback">
									Por favor, selecciona tu ciudad.
								</div>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label for="">Barrio *</label>
						<input type="text" class="form-control" value="Angel V. Peñaloza" required>
						<div class="invalid-feedback">
							Por favor, escribe tu barrio.
						</div>		
					</div>
					<div class="row">
						<div class="col-7">
							<div class="form-group">
								<label for="">Calle *</label>
								<input type="text" class="form-control" value="Victoria Romero" required>
								<div class="invalid-feedback">
									Por favor, escribe tu calle.
								</div>		
							</div>
						</div>
						<div class="col-5">
							<div class="form-group">
								<label for="">Número *</label>
								<input type="text" class="form-control" value="221" required>
								<div class="invalid-feedback">
									Por favor, escribe tu número de casa/depto.
								</div>		
							</div>
						</div>
					</div>
					<div class="form-group">
						<label for="">Referencia (opcional)</label>
						<textarea type="text" class="form-control" rows="3" placeholder="Alguna referencia para el delivery..."></textarea>
					</div>
				</div>
				
			</div>
			<div class="modal-footer">
				<div class="row">
					<div class="col-6 cancelar" data-dismiss="modal">
						<span >Cancelar</span>
					</div>
					<div class="col-6 crear">
						<span>Crear</span>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>